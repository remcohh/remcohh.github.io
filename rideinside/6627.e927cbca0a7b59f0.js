"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6627],{6627:(S,c,e)=>{e.r(c),e.d(c,{StravaAuthModule:()=>p});var l=e(6019),h=e(9010),r=e(5793),i=e(9949),u=e(4762),t=e(6079),g=e(4522),v=e(9900),d=e(3982);const m=[{path:"",component:(()=>{class n{constructor(o,s,A,P){this.http=o,this.router=s,this.storage=A,this.strava=P}ionViewDidEnter(){return(0,u.mG)(this,void 0,void 0,function*(){yield this.authorize()})}authorize(){return(0,u.mG)(this,void 0,void 0,function*(){const o=this.getCodeFromUrl();o?(console.log("one time token",o),yield this.strava.getAccessToken({code:o,grant_type:"authorization_code"})):yield this.router.navigate(["/","settings"])})}getCodeFromUrl(){const o=window.location.search;if(o)return new URLSearchParams(o).get("code")}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(g.eN),t.Y36(i.F0),t.Y36(v.V),t.Y36(d.R))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-folder"]],decls:7,vars:2,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"]],template:function(o,s){1&o&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Strava authentication"),t.qZA(),t.qZA(),t.qZA(),t._UZ(6,"ion-content",2)),2&o&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("fullscreen",!0))},directives:[r.Gu,r.sr,r.Sm,r.fG,r.wd,r.W2],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})()}];let f=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[i.Bz.forChild(m)],i.Bz]}),n})(),p=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,h.u5,r.Pc,f]]}),n})()}}]);